---
layout: post
categories: 技术
tags: Shell  
---

# df 命令：

linux中df命令的功能是用来检查linux服务器的文件系统的磁盘空间占用情况。可以利用该命令来获取硬盘被占用了多少空间，目前还剩下多少空间等信息。

### 1．命令格式：

df [选项] [文件]

### 2．命令功能：

显示指定磁盘文件的可用空间。如果没有文件名被指定，则所有当前被挂载的文件系统的可用空间将被显示。默认情况下，磁盘空间将以 1KB 为单位进行显示，除非环境变量 POSIXLY_CORRECT 被指定，那样将以512字节为单位进行显示。

### 3．命令参数：

必要参数：

	-a 全部文件系统列表
	
	-h 方便阅读方式显示
	
	-H 等于“-h”，但是计算式，1K=1000，而不是1K=1024
	
	-i 显示inode信息
	
	-k 区块为1024字节
	
	-l 只显示本地文件系统
	
	-m 区块为1048576字节
	
	--no-sync 忽略 sync 命令
	
	-P 输出格式为POSIX
	
	--sync 在取得磁盘信息前，先执行sync命令
	
	-T 文件系统类型

选择参数：
	
	--block-size=<区块大小> 指定区块大小
	
	-t<文件系统类型> 只显示选定文件系统的磁盘信息
	
	-x<文件系统类型> 不显示选定文件系统的磁盘信息
	
	--help 显示帮助信息
	
	--version 显示版本信息S
# 

	“df -h”这条命令再熟悉不过。以更易读的方式显示目前磁盘空间和使用情况。
	
	“df -i” 以inode模式来显示磁盘使用情况。
	
### df -h 和df -i的区别是什么？同样是显示磁盘使用情况，为什么显示占用百分比相差甚远？
	
	df -h的比较好解释，就是查看磁盘容量的使用情况。

至于df -i，先需要去理解一下inode

,最简单的说法，inode包含的信息：文件的字节数，拥有者id，组id，权限，改动时间，链接数，数据block的位置。相反是不表示文件大小。这就是为什么df -h和df -i 显示的结果是不一样的原因。

### 在df -h 和df -i  显示使用率100%，基本解决方法都是删除文件。

	df -h   是去删除比较大无用的文件-----------大文件占用大量的磁盘容量。
	
	df -i    则去删除数量过多的小文件-----------过多的文件占用了大量的inode号。
